{"ast":null,"code":"var _jsxFileName = \"/Users/nunziolanza/Visual Studio/citi-furniture/src/components/Chat/ChatInterface.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport ChatMessage from './ChatMessage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ChatInterface({\n  roomImage,\n  children\n}) {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [inputValue, setInputValue] = useState('');\n  const handleSendMessage = async () => {\n    if (!inputValue.trim()) {\n      return; // Exit if the input is only whitespace or empty.\n    }\n\n    const userMessage = {\n      sender: 'user',\n      content: inputValue\n    };\n    setMessages(prevMessages => [...prevMessages, userMessage]);\n    try {\n      const response = await fetch(\"/chat\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          message: inputValue\n        })\n      });\n      const rawResponse = await response.text();\n      console.log(\"Server Response:\", rawResponse);\n      const data = JSON.parse(rawResponse);\n      const gpt4Response = {\n        sender: 'gpt-4',\n        content: data.message\n      };\n      setMessages(prevMessages => [...prevMessages, gpt4Response]);\n    } catch (error) {\n      console.error(\"Error calling server:\", error);\n    }\n    setInputValue('');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-md mx-auto font-sans\",\n    children: [roomImage && /*#__PURE__*/_jsxDEV(\"img\", {\n      src: roomImage,\n      alt: \"Room View\",\n      className: \"w-full mb-5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 27\n    }, this), children, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-window p-5 border border-gray-300 rounded-md bg-gray-100 overflow-y-auto max-h-96\",\n      children: messages.map((msg, index) => /*#__PURE__*/_jsxDEV(ChatMessage, {\n        message: msg\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-input mt-5 flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: inputValue,\n        onChange: e => setInputValue(e.target.value),\n        placeholder: \"Ask me anything...\",\n        className: \"flex-grow p-2 mr-2 border border-gray-300 rounded-md\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSendMessage,\n        className: \"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 active:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50\",\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n}\n_s(ChatInterface, \"slbeoFq67b53BRRhfk6DiRI5k0A=\");\n_c = ChatInterface;\nexport default ChatInterface;\nvar _c;\n$RefreshReg$(_c, \"ChatInterface\");","map":{"version":3,"names":["React","useState","ChatMessage","jsxDEV","_jsxDEV","ChatInterface","roomImage","children","_s","messages","setMessages","inputValue","setInputValue","handleSendMessage","trim","userMessage","sender","content","prevMessages","response","fetch","method","headers","body","JSON","stringify","message","rawResponse","text","console","log","data","parse","gpt4Response","error","className","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","map","msg","index","value","onChange","e","target","placeholder","onClick","_c","$RefreshReg$"],"sources":["/Users/nunziolanza/Visual Studio/citi-furniture/src/components/Chat/ChatInterface.js"],"sourcesContent":["import React, { useState } from 'react';\nimport ChatMessage from './ChatMessage';\n\nfunction ChatInterface({ roomImage, children }) {\n    const [messages, setMessages] = useState([]);\n    const [inputValue, setInputValue] = useState('');\n\n    const handleSendMessage = async () => {\n        if (!inputValue.trim()) {\n            return; // Exit if the input is only whitespace or empty.\n        }\n\n        const userMessage = { sender: 'user', content: inputValue };\n        setMessages(prevMessages => [...prevMessages, userMessage]);\n\n        try {\n            const response = await fetch(\"/chat\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({ message: inputValue })\n            });\n\n            const rawResponse = await response.text();\n            console.log(\"Server Response:\", rawResponse);\n\n            const data = JSON.parse(rawResponse);\n\n            const gpt4Response = { sender: 'gpt-4', content: data.message };\n            setMessages(prevMessages => [...prevMessages, gpt4Response]);\n\n        } catch (error) {\n            console.error(\"Error calling server:\", error);\n        }\n\n        setInputValue('');\n    };\n\n    return (\n        <div className=\"max-w-md mx-auto font-sans\">\n            {roomImage && <img src={roomImage} alt=\"Room View\" className=\"w-full mb-5\" />}\n            {children}\n            <div className=\"chat-window p-5 border border-gray-300 rounded-md bg-gray-100 overflow-y-auto max-h-96\">\n                {messages.map((msg, index) => (\n                    <ChatMessage key={index} message={msg} />\n                ))}\n            </div>\n            <div className=\"chat-input mt-5 flex items-center\">\n                <input\n                    value={inputValue}\n                    onChange={(e) => setInputValue(e.target.value)}\n                    placeholder=\"Ask me anything...\"\n                    className=\"flex-grow p-2 mr-2 border border-gray-300 rounded-md\"\n                />\n                <button \n                    onClick={handleSendMessage} \n                    className=\"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 active:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50\"\n                >\n                    Send\n                </button>\n            </div>\n        </div>\n    );\n}\n\nexport default ChatInterface;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}